[[url-shortening-api-api-shorten-url]]
=== Shorten URL

The Shorten URL API allows for converting a Kibana URL into a token.

==== Request

`POST /api/shorten_url`

==== Request Body

The request body must be a JSON object containing the following properties:

`url` (required)::
  (string) Kibana URL, relative to `/app/kibana`, to be shortened.

==== Response body

The response body will have a top level `urlId` property that contains
the shortened URL token for the provided request body.

==== Examples


[source,js]
--------------------------------------------------
POST api/shorten_url
{
  "url": "https://kibana.bsh-ac.cloud/s/hip/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now%2Fy,mode:quick,to:now%2Fy))&_a=(columns:!(level,hip.path,hip.http.response.statusCode,hip.message,EVENT_TYPE),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:d01a95a0-2fb5-11e9-865f-dd315ef4bf9d,key:X-Request-ID,negate:!f,params:(query:spw-postman-03,type:phrase),type:phrase,value:spw-postman-03),query:(match:(X-Request-ID:(query:spw-postman-03,type:phrase))))),index:d01a95a0-2fb5-11e9-865f-dd315ef4bf9d,interval:auto,query:(language:lucene,query:''),sort:!('@timestamp',desc))"
}
--------------------------------------------------
// KIBANA

A successful call returns a response code of `200` and a response body
containing a JSON structure similar to the following example:

[source,js]
--------------------------------------------------
{
  "urlId": "f73b295ff92718b26bc94edac766d8e3"
}
--------------------------------------------------

A shortened Kibana URL can then be constructed for easier sharing.
`http://localhost:5601/goto/f73b295ff92718b26bc94edac766d8e3`

